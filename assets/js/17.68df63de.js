(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{371:function(t,s,a){"use strict";a.r(s);var n=a(45),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"express"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#express"}},[t._v("#")]),t._v(" Express")]),t._v(" "),a("h2",{attrs:{id:"express-ä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#express-ä»‹ç»"}},[t._v("#")]),t._v(" express ä»‹ç»")]),t._v(" "),a("ul",[a("li",[t._v("Express æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œç”¨äºŽå¿«é€Ÿæ­å»ºæœåŠ¡å™¨ï¼ˆæ›¿ä»£httpæ¨¡å—ï¼‰")]),t._v(" "),a("li",[t._v("Express æ˜¯ä¸€ä¸ªåŸºäºŽ Node.js å¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æžç®€çš„ "),a("strong",[t._v("web å¼€å‘æ¡†æž¶")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("Expressä¿ç•™äº†httpæ¨¡å—çš„åŸºæœ¬APIï¼Œä½¿ç”¨expressçš„æ—¶å€™ï¼Œä¹Ÿèƒ½ä½¿ç”¨httpçš„API\n"),a("ul",[a("li",[t._v("ä½¿ç”¨expressçš„æ—¶å€™ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨httpæ¨¡å—çš„æ–¹æ³•ï¼Œæ¯”å¦‚ res.end()ã€req.url")])])]),t._v(" "),a("li",[t._v("expressè¿˜é¢å¤–å°è£…äº†ä¸€äº›æ–°æ–¹æ³•ï¼Œèƒ½è®©æˆ‘ä»¬æ›´æ–¹ä¾¿çš„æ­å»ºæœåŠ¡å™¨")]),t._v(" "),a("li",[t._v("expressæä¾›äº†ä¸­é—´ä»¶åŠŸèƒ½ï¼Œå…¶ä»–å¾ˆå¤šå¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ¨¡å—éƒ½æ˜¯åŸºäºŽexpresså¼€å‘çš„")]),t._v(" "),a("li",[a("a",{attrs:{href:"http://expressjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Express å®˜ç½‘"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://www.expressjs.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Express ä¸­æ–‡æ–‡æ¡£ï¼ˆéžå®˜æ–¹ï¼‰"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/expressjs/express",target:"_blank",rel:"noopener noreferrer"}},[t._v("Express GitHubä»“åº“"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.runoob.com/w3cnote/express-4-x-api.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("èœé¸Ÿæ•™ç¨‹"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://cloud.tencent.com/developer/doc/1079",target:"_blank",rel:"noopener noreferrer"}},[t._v("è…¾è®¯äº‘å¼€å‘è€…æ‰‹å†Œ"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("ç™¾åº¦è‡ªè¡Œæœç´¢")])]),t._v(" "),a("h2",{attrs:{id:"å®‰è£…-express"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…-express"}},[t._v("#")]),t._v(" å®‰è£… express")]),t._v(" "),a("p",[t._v("é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰§è¡Œ "),a("code",[t._v("npm i express")]),t._v("ã€‚å³å¯ä¸‹è½½å®‰è£…expressã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("æ³¨æ„ï¼šexpressä¸èƒ½å®‰è£…åœ¨expressæ–‡ä»¶å¤¹ä¸­ã€‚å¦åˆ™å®‰è£…å¤±è´¥ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"ä½¿ç”¨expressæž„é€ webæœåŠ¡å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨expressæž„é€ webæœåŠ¡å™¨"}},[t._v("#")]),t._v(" ä½¿ç”¨Expressæž„é€ WebæœåŠ¡å™¨")]),t._v(" "),a("p",[t._v("ä½¿ç”¨Expressæž„å»ºWebæœåŠ¡å™¨æ­¥éª¤ï¼š")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("åŠ è½½ express æ¨¡å—")])]),t._v(" "),a("li",[a("p",[t._v("åˆ›å»º express æœåŠ¡å™¨")])]),t._v(" "),a("li",[a("p",[t._v("å¼€å¯æœåŠ¡å™¨")])]),t._v(" "),a("li",[a("p",[t._v("ç›‘å¬æµè§ˆå™¨è¯·æ±‚å¹¶è¿›è¡Œå¤„ç†")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨express æ­å»ºwebæœåŠ¡å™¨")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1) åŠ è½½ express æ¨¡å—")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2) åˆ›å»º express æœåŠ¡å™¨")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3) å¼€å¯æœåŠ¡å™¨")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3006")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'expressæœåŠ¡å™¨å¼€å§‹å·¥ä½œäº†'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4) ç›‘å¬æµè§ˆå™¨è¯·æ±‚å¹¶è¿›è¡Œå¤„ç†")]),t._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GETè¯·æ±‚çš„åœ°å€'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" å¤„ç†å‡½æ•°"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POSTè¯·æ±‚çš„åœ°å€'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" å¤„ç†å‡½æ•°"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"expresså°è£…çš„æ–°æ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expresså°è£…çš„æ–°æ–¹æ³•"}},[t._v("#")]),t._v(" expresså°è£…çš„æ–°æ–¹æ³•")]),t._v(" "),a("p",[t._v("expressä¹‹æ‰€ä»¥èƒ½å¤Ÿå®žçŽ°webæœåŠ¡å™¨çš„æ­å»ºï¼Œæ˜¯å› ä¸ºå…¶å†…éƒ¨å¯¹æ ¸å¿ƒæ¨¡å—httpè¿›è¡Œäº†å°è£…ã€‚")]),t._v(" "),a("p",[t._v("å°è£…ä¹‹åŽï¼Œexpressæä¾›äº†éžå¸¸æ–¹ä¾¿å¥½ç”¨çš„æ–¹æ³•ã€‚")]),t._v(" "),a("p",[t._v("æ¯”å¦‚å‰é¢ç”¨åˆ°çš„ "),a("code",[t._v("app.get() å’Œ app.post()")]),t._v(" å°±æ˜¯expresså°è£…çš„æ–°æ–¹æ³•ã€‚")]),t._v(" "),a("p",[t._v("ä¸‹é¢å†ä»‹ç»ä¸€ä¸ª "),a("code",[t._v("res.send()")]),t._v(" æ–¹æ³•")]),t._v(" "),a("ul",[a("li",[t._v("è¯¥æ–¹æ³•å¯ä»¥ä»£æ›¿ä¹‹å‰çš„ res.end æ–¹æ³•ï¼Œè€Œä¸”æ¯” res.end æ–¹æ³•æ›´å¥½ç”¨")]),t._v(" "),a("li",[t._v("res.send() ç”¨äºŽåšå‡ºå“åº”")]),t._v(" "),a("li",[t._v("å“åº”çš„å†…å®¹åŒæ ·ä¸èƒ½ä¸ºæ•°å­—")]),t._v(" "),a("li",[t._v("å¦‚æžœå“åº”çš„æ˜¯JSå¯¹è±¡ï¼Œé‚£ä¹ˆæ–¹æ³•å†…éƒ¨ä¼šè‡ªåŠ¨å°†å¯¹è±¡è½¬æˆJSONæ ¼å¼ã€‚")]),t._v(" "),a("li",[t._v("è€Œä¸”ä¼šè‡ªåŠ¨åŠ Content-Typeå“åº”å¤´")]),t._v(" "),a("li",[t._v("å¦‚æžœå·²ç»åšå‡ºå“åº”äº†ï¼Œå°±ä¸è¦å†æ¬¡åšå‡ºå“åº”äº†ã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3006")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å¯åŠ¨äº†'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å†™æŽ¥å£")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// res.end('hello worldï¼Œå“ˆå“ˆå“ˆ'); // å“åº”ä¸­æ–‡ä¼šä¹±ç ï¼Œå¿…é¡»è‡ªå·±åŠ å“åº”å¤´")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// res.end(JSON.stringify({ status: 0, message: 'æ³¨å†ŒæˆåŠŸ' })); // åªèƒ½å“åº”å­—ç¬¦ä¸²æˆ–è€…bufferç±»åž‹")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// expressæä¾›çš„sendæ–¹æ³•ï¼Œå¯ä»¥è§£å†³ä¸Šé¢çš„ä¸¤ä¸ªé—®é¢˜")]),t._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ³¨å†ŒæˆåŠŸ'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sendæ–¹æ³•ä¼šè‡ªåŠ¨è®¾ç½®å“åº”å¤´ï¼›å¹¶ä¸”ä¼šè‡ªåŠ¨æŠŠå¯¹è±¡è½¬æˆJSONå­—ç¬¦ä¸²")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("è¯·æ³¨æ„ï¼Œåœ¨expressä¸­ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨httpæ¨¡å—ä¸­çš„æ–¹æ³•å’Œå±žæ€§ï¼Œæ¯”å¦‚req.urlã€‚")])]),t._v(" "),a("h2",{attrs:{id:"æ¡ˆä¾‹-å¤§äº‹ä»¶çš„ç™»å½•æ³¨å†ŒæŽ¥å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ˆä¾‹-å¤§äº‹ä»¶çš„ç™»å½•æ³¨å†ŒæŽ¥å£"}},[t._v("#")]),t._v(" æ¡ˆä¾‹ - å¤§äº‹ä»¶çš„ç™»å½•æ³¨å†ŒæŽ¥å£")]),t._v(" "),a("h3",{attrs:{id:"åˆ›å»ºæ•°æ®è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºæ•°æ®è¡¨"}},[t._v("#")]),t._v(" åˆ›å»ºæ•°æ®è¡¨")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å­—æ®µ")]),t._v(" "),a("th",[t._v("ç±»åž‹")]),t._v(" "),a("th",[t._v("é•¿åº¦")]),t._v(" "),a("th",[t._v("ä¸æ˜¯null")]),t._v(" "),a("th",[t._v("ä¸»é”®")]),t._v(" "),a("th",[t._v("å…¶ä»–")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("id")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("âˆš")]),t._v(" "),a("td",[t._v("ðŸ”‘")]),t._v(" "),a("td",[t._v("âˆš è‡ªåŠ¨é€’å¢ž")])]),t._v(" "),a("tr",[a("td",[t._v("username")]),t._v(" "),a("td",[t._v("varchar")]),t._v(" "),a("td",[t._v("10")]),t._v(" "),a("td",[t._v("âˆš")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("password")]),t._v(" "),a("td",[t._v("char")]),t._v(" "),a("td",[t._v("32")]),t._v(" "),a("td",[t._v("âˆš")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("user_pic")]),t._v(" "),a("td",[t._v("longtext")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("nickname")]),t._v(" "),a("td",[t._v("varchar")]),t._v(" "),a("td",[t._v("10")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("email")]),t._v(" "),a("td",[t._v("varchar")]),t._v(" "),a("td",[t._v("30")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("h3",{attrs:{id:"ä½¿ç”¨apipostæ¨¡æ‹Ÿæ³¨å†Œè¯·æ±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨apipostæ¨¡æ‹Ÿæ³¨å†Œè¯·æ±‚"}},[t._v("#")]),t._v(" ä½¿ç”¨ApiPostæ¨¡æ‹Ÿæ³¨å†Œè¯·æ±‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/ye-xingchen/tuchuang/raw/master/img/image-20210122173242412.png",alt:"image-20210122173242412"}})]),t._v(" "),a("h3",{attrs:{id:"å†™æŽ¥å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†™æŽ¥å£"}},[t._v("#")]),t._v(" å†™æŽ¥å£")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®ŒæˆæŽ¥å£é¡¹ç›®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‰é¢ä¸‰è¡Œå¯åŠ¨æœåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3006")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å¯åŠ¨äº†'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½® + å†™æŽ¥å£")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -------------------- æ³¨å†ŒæŽ¥å£ ----------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯·æ±‚ä½“ï¼šusername password")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/reguser'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. æŽ¥å£è¦æŽ¥æ”¶æ•°æ®")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. åˆ¤æ–­è´¦å·æ˜¯å¦å·²ç»è¢«å ç”¨äº†")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. å¦‚æžœæ²¡æœ‰è¢«å ç”¨ï¼ŒæŠŠè´¦å·å¯†ç æ·»åŠ åˆ°æ•°æ®åº“")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"æœåŠ¡ç«¯ä½¿ç”¨-req-body-æŽ¥æ”¶è¯·æ±‚ä½“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯ä½¿ç”¨-req-body-æŽ¥æ”¶è¯·æ±‚ä½“"}},[t._v("#")]),t._v(" æœåŠ¡ç«¯ä½¿ç”¨ req.body æŽ¥æ”¶è¯·æ±‚ä½“")]),t._v(" "),a("p",[t._v("è¯·æ±‚ä½“å°±æ˜¯å®¢æˆ·ç«¯æäº¤çš„æ•°æ®ï¼ˆusernameå’Œpasswordï¼‰ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®ŒæˆæŽ¥å£é¡¹ç›®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‰é¢ä¸‰è¡Œå¯åŠ¨æœåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3006")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å¯åŠ¨äº†'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½® + å†™æŽ¥å£")]),t._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("urlencoded")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" extended"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -------------------- æ³¨å†ŒæŽ¥å£ ----------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯·æ±‚ä½“ï¼šusername password")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/reguser'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. æŽ¥å£è¦æŽ¥æ”¶æ•°æ®")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { username: 'laotang', password: '123456' }")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. åˆ¤æ–­è´¦å·æ˜¯å¦å·²ç»è¢«å ç”¨äº†")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. å¦‚æžœæ²¡æœ‰è¢«å ç”¨ï¼ŒæŠŠè´¦å·å¯†ç æ·»åŠ åˆ°æ•°æ®åº“")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n")])])]),a("blockquote",[a("p",[t._v("ä»£ç å†™å®Œï¼Œä¸€å®šè¦ä½¿ç”¨ApiPostå‘é€è¯·æ±‚ï¼Œæµ‹è¯•ä»£ç ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"éªŒè¯ç”¨æˆ·åæ˜¯å¦å­˜åœ¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#éªŒè¯ç”¨æˆ·åæ˜¯å¦å­˜åœ¨"}},[t._v("#")]),t._v(" éªŒè¯ç”¨æˆ·åæ˜¯å¦å­˜åœ¨")]),t._v(" "),a("p",[t._v("æ€è·¯ï¼šæ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ï¼Œçœ‹æ˜¯å¦èƒ½å¤ŸæŸ¥åˆ°æ•°æ®ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("æ²¡æœ‰æŸ¥è¯¢æ•°æ®ï¼Œè¯´æ˜Žè¿™ä¸ªç”¨æˆ·åä¸å­˜åœ¨ï¼Œèƒ½å¤Ÿä½¿ç”¨")]),t._v(" "),a("li",[t._v("å¦‚æžœæŸ¥åˆ°æ•°æ®åº“ï¼Œè¯´æ˜Žè¿™ä¸ªç”¨æˆ·åå·²ç»å­˜åœ¨ï¼Œä¸èƒ½ä½¿ç”¨")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®ŒæˆæŽ¥å£é¡¹ç›®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‰é¢ä¸‰è¡Œå¯åŠ¨æœåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3006")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å¯åŠ¨äº†'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½® + å†™æŽ¥å£")]),t._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("urlencoded")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" extended"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -------------------- æ³¨å†ŒæŽ¥å£ ----------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯·æ±‚ä½“ï¼šusername password")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/reguser'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. æŽ¥å£è¦æŽ¥æ”¶æ•°æ®")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { username: 'laotang', password: '123456' }")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" password "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. åˆ¤æ–­è´¦å·æ˜¯å¦å·²ç»è¢«å ç”¨äº†")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("db")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'select * from user where username=\"${username}\"'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(result); // æŸ¥åˆ°ä¿¡æ¯ï¼Œresultæ˜¯éžç©ºæ•°ç»„ï¼›æ²¡æœ‰æŸ¥åˆ°ä¿¡æ¯ï¼Œresultæ˜¯ç©ºæ•°ç»„")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç”¨æˆ·åè¢«å ç”¨äº†'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ²¡æœ‰è¢«å ç”¨")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. å¦‚æžœæ²¡æœ‰è¢«å ç”¨ï¼ŒæŠŠè´¦å·å¯†ç æ·»åŠ åˆ°æ•°æ®åº“")]),t._v("\n      \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"å®Œæˆæ³¨å†Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®Œæˆæ³¨å†Œ"}},[t._v("#")]),t._v(" å®Œæˆæ³¨å†Œ")]),t._v(" "),a("p",[t._v("å¦‚æžœç”¨æˆ·åå¯ç”¨ï¼Œåˆ™æ·»åŠ åˆ°æ•°æ®è¡¨ä¸­ï¼Œå®Œæˆæ³¨å†Œ")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -------------------- æ³¨å†ŒæŽ¥å£ ----------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯·æ±‚ä½“ï¼šusername password")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/reguser'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. æŽ¥å£è¦æŽ¥æ”¶æ•°æ®")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(req.body); // { username: 'laotang', password: '123456' }")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" password "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. åˆ¤æ–­è´¦å·æ˜¯å¦å·²ç»è¢«å ç”¨äº†")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("db")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("select * from user where username='")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(result); // æŸ¥åˆ°ä¿¡æ¯ï¼Œresultæ˜¯éžç©ºæ•°ç»„ï¼›æ²¡æœ‰æŸ¥åˆ°ä¿¡æ¯ï¼Œresultæ˜¯ç©ºæ•°ç»„")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç”¨æˆ·åè¢«å ç”¨äº†'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ²¡æœ‰è¢«å ç”¨")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. å¦‚æžœæ²¡æœ‰è¢«å ç”¨ï¼ŒæŠŠè´¦å·å¯†ç æ·»åŠ åˆ°æ•°æ®åº“")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("db")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("insert into user set username='")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("', password='")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("password"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" r")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ³¨å†ŒæˆåŠŸ'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"å¯¹å¯†ç è¿›è¡Œmd5åŠ å¯†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹å¯†ç è¿›è¡Œmd5åŠ å¯†"}},[t._v("#")]),t._v(" å¯¹å¯†ç è¿›è¡Œmd5åŠ å¯†")]),t._v(" "),a("p",[t._v("å®‰å…¨èµ·è§ï¼Œæ•°æ®è¡¨ä¸­ä¸èƒ½å­˜å‚¨æ˜Žæ–‡å¯†ç ã€‚å¿…é¡»å­˜å‚¨åŠ å¯†åŽçš„å¯†ç ï¼Œè€Œä¸”åº”è¯¥ä½¿ç”¨ä¸€ç§ä¸å¯é€†çš„åŠ å¯†æ–¹æ¡ˆã€‚")]),t._v(" "),a("p",[t._v("å¸¸ç”¨çš„åŠ å¯†æ–¹å¼æ˜¯ md5ã€‚")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("ä¸‹è½½å®‰è£…ç¬¬ä¸‰æ–¹åŠ å¯†æ¨¡å—ï¼Œå¹¶è§£æž„é‡Œé¢çš„ md5 æ–¹æ³•")]),t._v(" "),a("p",[a("code",[t._v("let { md5 } = require('utility')")])])]),t._v(" "),a("li",[a("p",[t._v("å¯¹å¯†ç è¿›è¡ŒåŠ å¯†")]),t._v(" "),a("p",[a("code",[t._v("password = md5(password)")])])])]),t._v(" "),a("h2",{attrs:{id:"æ¡ˆä¾‹-å¤§äº‹ä»¶ç±»åˆ«ç®¡ç†æ¡ˆä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ˆä¾‹-å¤§äº‹ä»¶ç±»åˆ«ç®¡ç†æ¡ˆä¾‹"}},[t._v("#")]),t._v(" æ¡ˆä¾‹ - å¤§äº‹ä»¶ç±»åˆ«ç®¡ç†æ¡ˆä¾‹")]),t._v(" "),a("blockquote",[a("p",[t._v("ç›®å‰åªå®ŒæˆæŽ¥å£åŠŸèƒ½å³å¯ï¼Œä¸éœ€è¦è€ƒè™‘token çš„é—®é¢˜ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"å¯åŠ¨æœåŠ¡-æŠŠæŽ¥å£çš„éª¨æž¶å®Œæˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯åŠ¨æœåŠ¡-æŠŠæŽ¥å£çš„éª¨æž¶å®Œæˆ"}},[t._v("#")]),t._v(" å¯åŠ¨æœåŠ¡ï¼ŒæŠŠæŽ¥å£çš„éª¨æž¶å®Œæˆ")]),t._v(" "),a("p",[t._v("åˆ›å»ºäº†index.js")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸‰ä¸ªæ­¥éª¤ï¼Œå¯åŠ¨æœåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8888")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æœåŠ¡å™¨å¯åŠ¨äº†'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é…ç½® + å†™æŽ¥å£")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------- èŽ·å–åˆ†ç±»çš„æŽ¥å£ ------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * è¯·æ±‚æ–¹å¼:GET\n * æŽ¥å£åœ°å€: /my/category/list\n */")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/my/category/list'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------- åˆ é™¤åˆ†ç±»çš„æŽ¥å£ ------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * è¯·æ±‚æ–¹å¼:GET\n * æŽ¥å£åœ°å€: /my/category/delete\n * è¯·æ±‚å‚æ•°: id(åˆ†ç±»id)\n */")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/my/category/delete'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------- æ·»åŠ åˆ†ç±»çš„æŽ¥å£ ------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * è¯·æ±‚æ–¹å¼:POST\n * æŽ¥å£åœ°å€: /my/category/add\n * è¯·æ±‚å‚æ•°: name(ç±»åˆ«åç§°) | alias(ç±»åˆ«åˆ«å)\n */")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/my/category/add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------- ä¿®æ”¹åˆ†ç±»çš„æŽ¥å£ ------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * è¯·æ±‚æ–¹å¼:POST\n * æŽ¥å£åœ°å€: /my/category/update\n * è¯·æ±‚å‚æ•°: name(ç±»åˆ«åç§°) | alias(ç±»åˆ«åˆ«å)  |  id(åˆ†ç±»çš„id)\n */")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/my/category/update'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"è®¾è®¡æ•°æ®è¡¨å¹¶æ·»åŠ æ¨¡æ‹Ÿæ•°æ®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¾è®¡æ•°æ®è¡¨å¹¶æ·»åŠ æ¨¡æ‹Ÿæ•°æ®"}},[t._v("#")]),t._v(" è®¾è®¡æ•°æ®è¡¨å¹¶æ·»åŠ æ¨¡æ‹Ÿæ•°æ®")]),t._v(" "),a("p",[t._v("åˆ›å»º categoryè¡¨")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å­—æ®µ")]),t._v(" "),a("th",[t._v("ç±»åž‹")]),t._v(" "),a("th",[t._v("é•¿åº¦")]),t._v(" "),a("th",[t._v("ä¸æ˜¯null")]),t._v(" "),a("th",[t._v("ä¸»é”®")]),t._v(" "),a("th",[t._v("è‡ªåŠ¨é€’å¢ž")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("id")]),t._v(" "),a("td",[t._v("int")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("âˆš")]),t._v(" "),a("td",[t._v("ðŸ”‘")]),t._v(" "),a("td",[t._v("âˆš")])]),t._v(" "),a("tr",[a("td",[t._v("name")]),t._v(" "),a("td",[t._v("varchar")]),t._v(" "),a("td",[t._v("10")]),t._v(" "),a("td",[t._v("âˆš")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("alias")]),t._v(" "),a("td",[t._v("varchar")]),t._v(" "),a("td",[t._v("10")]),t._v(" "),a("td",[t._v("âˆš")]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("p",[t._v("è‡ªè¡Œæ·»åŠ å‡ æ¡æ¨¡æ‹Ÿæ•°æ®ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å°è£…db-js-å·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°è£…db-js-å·¥å…·"}},[t._v("#")]),t._v(" å°è£…db.js å·¥å…·")]),t._v(" "),a("p",[t._v("æŠŠä¹‹å‰å°è£…å¥½çš„ db.js å¤åˆ¶è¿‡æ¥å³å¯ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("db")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mysql "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mysql'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" conn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createConnection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        password"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'12345678'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        database"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sy120'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"å®ŒæˆèŽ·å–åˆ†ç±»åˆ—è¡¨æ•°æ®çš„æŽ¥å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ŒæˆèŽ·å–åˆ†ç±»åˆ—è¡¨æ•°æ®çš„æŽ¥å£"}},[t._v("#")]),t._v(" å®ŒæˆèŽ·å–åˆ†ç±»åˆ—è¡¨æ•°æ®çš„æŽ¥å£")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------- èŽ·å–åˆ†ç±»çš„æŽ¥å£ ------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * è¯·æ±‚æ–¹å¼:GET\n * æŽ¥å£åœ°å€: /my/category/list\n */")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/my/category/list'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è°ƒç”¨dbå‡½æ•°ï¼ŒæŸ¥è¯¢æ‰€æœ‰çš„åˆ†ç±»")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("db")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'select * from category'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ²¡æœ‰é”™è¯¯çš„è¯ï¼Œåšå‡ºå“åº”")]),t._v("\n        res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'èŽ·å–åˆ†ç±»æˆåŠŸ'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" result\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"åˆ é™¤åˆ†ç±»çš„æŽ¥å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ é™¤åˆ†ç±»çš„æŽ¥å£"}},[t._v("#")]),t._v(" åˆ é™¤åˆ†ç±»çš„æŽ¥å£")]),t._v(" "),a("p",[t._v("å®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼Œå¹¶ä¸”ä¼ é€’idå‚æ•°")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/ye-xingchen/tuchuang/raw/master/img/image-20201225145042976.png",alt:"image-20201225145042976"}})]),t._v(" "),a("p",[t._v("æœåŠ¡ç«¯ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------- åˆ é™¤åˆ†ç±»çš„æŽ¥å£ ------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * è¯·æ±‚æ–¹å¼:GET\n * æŽ¥å£åœ°å€: /my/category/delete\n * è¯·æ±‚å‚æ•°: id(åˆ†ç±»id)\n */")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/my/category/delete'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// èŽ·å–idå‚æ•°")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤æ•°æ®è¡¨ä¸­çš„æ•°æ®")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("db")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'delete from category where id=?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åšå‡ºå“åº”")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("affectedRows "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åˆ é™¤åˆ†ç±»æˆåŠŸ'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åˆ é™¤åˆ†ç±»å¤±è´¥'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"æ·»åŠ åˆ†ç±»çš„æŽ¥å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ åˆ†ç±»çš„æŽ¥å£"}},[t._v("#")]),t._v(" æ·»åŠ åˆ†ç±»çš„æŽ¥å£")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/ye-xingchen/tuchuang/raw/master/img/image-20201225150033489.png",alt:"image-20201225150033489"}})]),t._v(" "),a("p",[t._v("æœåŠ¡ç«¯ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§£æžPOSTå‚æ•°ï¼ˆæŽ¥æ”¶POSTå‚æ•°ï¼Œå¹¶è½¬æˆæˆå¯¹è±¡ï¼Œç„¶åŽæŠŠè½¬æ¢åŽçš„ç»“æžœèµ‹å€¼ç»™req.bodyï¼‰")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("urlencoded")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" extended"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ----------------- æ·»åŠ åˆ†ç±»çš„æŽ¥å£ ------------------")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * è¯·æ±‚æ–¹å¼:POST\n * æŽ¥å£åœ°å€: /my/category/add\n * è¯·æ±‚å‚æ•°: name(ç±»åˆ«åç§°) | alias(ç±»åˆ«åˆ«å)\n */")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/my/category/add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. æŽ¥æ”¶å®¢æˆ·ç«¯æäº¤çš„æ•°æ®ï¼ˆnameå’Œaliasï¼‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(req.body); // { name: 'å¨±ä¹', alias: 'yule' }")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. æ·»åŠ åˆ°æ•°æ®åº“")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("db")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'insert into category set ?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. åšå‡ºå“åº”")]),t._v("\n        res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ·»åŠ åˆ†ç±»æˆåŠŸ'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"æ›´æ–°åˆ†ç±»æŽ¥å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°åˆ†ç±»æŽ¥å£"}},[t._v("#")]),t._v(" æ›´æ–°åˆ†ç±»æŽ¥å£")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/ye-xingchen/tuchuang/raw/master/img/image-20201225153614367.png",alt:"image-20201225153614367"}})]),t._v(" "),a("p",[t._v("æœåŠ¡ç«¯ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * è¯·æ±‚æ–¹å¼:POST\n * æŽ¥å£åœ°å€: /my/category/update\n * è¯·æ±‚å‚æ•°: name(ç±»åˆ«åç§°) | alias(ç±»åˆ«åˆ«å)  |  id(åˆ†ç±»çš„id)\n */")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/my/category/update'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. æŽ¥æ”¶å®¢æˆ·ç«¯æäº¤çš„æ•°æ®ï¼ˆidã€nameã€aliasï¼‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(req.body); // { id: '1', name: 'ç§‘æŠ€', alias: 'keji' }")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. æ‰§è¡Œupdateè¯­å¥ï¼Œä¿®æ”¹æ•°æ®")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("db")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update category set ? where id=?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("affectedRows "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ä¿®æ”¹åˆ†ç±»æˆåŠŸ'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ä¿®æ”¹åˆ†ç±»å¤±è´¥'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"expressè·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expressè·¯ç”±"}},[t._v("#")]),t._v(" Expressè·¯ç”±")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("è·¯ç”±ï¼šå³è¯·æ±‚å’Œå¤„ç†ç¨‹åºçš„æ˜ å°„å…³ç³»ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("ä½¿ç”¨è·¯ç”±çš„å¥½å¤„ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("é™ä½ŽåŒ¹é…æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½")]),t._v(" "),a("li",[t._v("åˆ†ç±»ç®¡ç†æŽ¥å£ï¼Œæ›´æ˜“ç»´æŠ¤ä¸Žå‡çº§")])])]),t._v(" "),a("li",[a("p",[t._v("ä½¿ç”¨æ­¥éª¤ï¼š")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("/**\n * ä½¿ç”¨è·¯ç”±æ–‡ä»¶çš„æ­¥éª¤\n *  1. åŠ è½½expressæ¨¡å—\n *  2. åˆ›å»º router å¯¹è±¡\n *  3. æŠŠæŽ¥å£æŒ‚è½½åˆ° router å¯¹è±¡ä¸Š\n *  4. å¯¼å‡º router å¯¹è±¡\n * \n * app.js ä¸­\n *  5. åŠ è½½è·¯ç”±æ¨¡å—ï¼Œå¹¶æ³¨å†Œæˆä¸­é—´ä»¶\n */\n\n")])])]),a("ul",[a("li",[t._v("æ³¨æ„äº‹é¡¹ï¼š\n"),a("ul",[a("li",[t._v("è·¯ç”±æ–‡ä»¶å¦‚æžœæ²¡æœ‰å¯¼å‡º routerï¼Œé‚£ä¹ˆåœ¨ å…¥å£æ–‡ä»¶ä¸­ä¸è¦æ³¨å†Œä¸­é—´ä»¶ï¼Œå¦åˆ™æŠ¥é”™")]),t._v(" "),a("li",[t._v("å“ªä¸ªè·¯ç”±æ–‡ä»¶ä¸­ä½¿ç”¨äº†dbï¼Œè‡ªå·±åŠ è½½ï¼ˆè°ç”¨è°åŠ è½½ï¼‰")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/ye-xingchen/tuchuang/raw/master/img/image-20201108092224934.png",alt:"image-20201108092224934"}})]),t._v(" "),a("h2",{attrs:{id:"ä¸­é—´ä»¶ä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´ä»¶ä»‹ç»"}},[t._v("#")]),t._v(" ä¸­é—´ä»¶ä»‹ç»")]),t._v(" "),a("ul",[a("li",[t._v("ä¸­é—´ä»¶(Middleware )ï¼Œç‰¹æŒ‡ä¸šåŠ¡æµç¨‹çš„ä¸­é—´å¤„ç†çŽ¯èŠ‚ã€‚")]),t._v(" "),a("li",[t._v("ä¸­é—´ä»¶ï¼Œæ˜¯expressæœ€å¤§çš„ç‰¹è‰²ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€ä¸ªè®¾è®¡")]),t._v(" "),a("li",[t._v("å¾ˆå¤šç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œéƒ½å¯ä»¥å½“åšexpressçš„ä¸­é—´ä»¶ï¼Œé…åˆexpressï¼Œå¼€å‘æ›´ç®€å•ã€‚")]),t._v(" "),a("li",[t._v("ä¸€ä¸ªexpressåº”ç”¨ï¼Œæ˜¯ç”±å„ç§å„æ ·çš„ä¸­é—´ä»¶ç»„åˆå®Œæˆçš„")]),t._v(" "),a("li",[t._v("ä¸­é—´ä»¶ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå‡½æ•°")])]),t._v(" "),a("h2",{attrs:{id:"ä¸­é—´ä»¶åŽŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´ä»¶åŽŸç†"}},[t._v("#")]),t._v(" ä¸­é—´ä»¶åŽŸç†")]),t._v(" "),a("p",[t._v("ä¸ºäº†ç†è§£ä¸­é—´ä»¶ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬çŽ°å®žç”Ÿæ´»ä¸­çš„è‡ªæ¥æ°´åŽ‚çš„å‡€æ°´æµç¨‹ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/ye-xingchen/tuchuang/raw/master/img/image-20200331130641861.png",alt:"image-2020033130641861"}})]),t._v(" "),a("ul",[a("li",[t._v("åœ¨ä¸Šå›¾ä¸­ï¼Œè‡ªæ¥æ°´åŽ‚ä»ŽèŽ·å–æ°´æºåˆ°å‡€åŒ–å¤„ç†äº¤ç»™ç”¨æˆ·ï¼Œä¸­é—´ç»åŽ†äº†ä¸€ç³»åˆ—çš„å¤„ç†çŽ¯èŠ‚")]),t._v(" "),a("li",[t._v("æˆ‘ä»¬ç§°å…¶ä¸­çš„æ¯ä¸€ä¸ªå¤„ç†çŽ¯èŠ‚å°±æ˜¯ä¸€ä¸ªä¸­é—´ä»¶ã€‚")]),t._v(" "),a("li",[t._v("è¿™æ ·åšçš„ç›®çš„æ—¢æé«˜äº†ç”Ÿäº§æ•ˆçŽ‡ä¹Ÿä¿è¯äº†å¯ç»´æŠ¤æ€§ã€‚")])]),t._v(" "),a("p",[t._v("expressä¸­é—´ä»¶åŽŸç†ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/ye-xingchen/tuchuang/raw/master/img/image-20200331004703510.png",alt:"image-2020033104703510"}})]),t._v(" "),a("h2",{attrs:{id:"ä¸­é—´ä»¶çš„å‡ ç§å½¢å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´ä»¶çš„å‡ ç§å½¢å¼"}},[t._v("#")]),t._v(" ä¸­é—´ä»¶çš„å‡ ç§å½¢å¼")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸‹é¢çš„ä¸­é—´ä»¶ï¼Œåªä¸ºå½“å‰æŽ¥å£ /my/userinfo è¿™ä¸ªæŽ¥å£æœåŠ¡")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/my/userinfo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ä¸­é—´ä»¶å‡½æ•°"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸‹é¢çš„å‡ ä¸ªä¸­é—´ä»¶ï¼Œæ˜¯å¤„ç† /api/login æŽ¥å£çš„")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/login'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ä¸­é—´ä»¶å‡½æ•°"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ä¸­é—´ä»¶å‡½æ•°"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ä¸­é—´ä»¶å‡½æ•°"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ä¸­é—´ä»¶å‡½æ•° "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// app.use ä¸­çš„ä¸­é—´ä»¶ï¼Œå¯ä»¥å¤„ç†æ‰€æœ‰çš„GETè¯·æ±‚å’Œæ‰€æœ‰çš„POSTè¯·æ±‚ï¼Œæ²¡æœ‰æŒ‡å®šè·¯å¾„ï¼Œé‚£ä¹ˆå¤„ç†æ‰€æœ‰æŽ¥å£")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ä¸­é—´ä»¶å‡½æ•°"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸‹é¢çš„ä¸­é—´ä»¶å‡½æ•°ï¼Œåªå¤„ç† /api å¼€å¤´çš„æŽ¥å£")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ä¸­é—´ä»¶å‡½æ•°"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸‹é¢çš„ä¸­é—´ä»¶å‡½æ•°ï¼Œå¤„ç† /abcd ã€ /abd è¿™ä¸¤ä¸ªæŽ¥å£")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/abc?d'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ä¸­é—´ä»¶å‡½æ•°"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),a("blockquote",[a("p",[t._v("app.getæˆ–è€…app.postè¡¨ç¤ºå†™æŽ¥å£ï¼Œå¿…é¡»å†™æŽ¥å£åœ°å€ï¼›")]),t._v(" "),a("p",[t._v("app.use() å‚æ•°1è·¯ç”±å‰ç¼€ï¼Œå¯ä»¥çœç•¥ã€‚å¦å¤–æ— è®ºæ˜¯GETè¿˜æ˜¯POSTæ–¹å¼çš„è¯·æ±‚ï¼Œéƒ½ä¼šè¿›å…¥è¯¥ä¸­é—´ä»¶ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"ä¸­é—´ä»¶è¯­æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´ä»¶è¯­æ³•"}},[t._v("#")]),t._v(" ä¸­é—´ä»¶è¯­æ³•")]),t._v(" "),a("ul",[a("li",[t._v("ä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°")]),t._v(" "),a("li",[t._v("ä¸­é—´ä»¶å‡½æ•°ä¸­æœ‰å››ä¸ªåŸºæœ¬å‚æ•°ï¼Œ errã€reqã€resã€next\n"),a("ul",[a("li",[t._v("å¦‚æžœå†™ä¸¤ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆä¸¤ä¸ªå‚æ•°è‚¯å®šæ˜¯ reqå’Œres")]),t._v(" "),a("li",[t._v("å¦‚æžœå†™ä¸‰ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆä¸‰ä¸ªå‚æ•°è‚¯å®šæ˜¯ req,reså’Œnext")]),t._v(" "),a("li",[t._v("å¦‚æžœå†™å››ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå°±æ˜¯å…¨éƒ¨çš„å‚æ•°ã€‚")])])]),t._v(" "),a("li",[t._v("æŠŠå†™å¥½çš„ä¸­é—´ä»¶å‡½æ•°ï¼Œä¼ é€’ç»™ "),a("code",[t._v("app.get()")]),t._v("ã€"),a("code",[t._v("app.post()")]),t._v("ã€"),a("code",[t._v("æˆ–app.use()")]),t._v("ä½¿ç”¨")])]),t._v(" "),a("h2",{attrs:{id:"ä¸­é—´ä»¶çš„ç‰¹ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´ä»¶çš„ç‰¹ç‚¹"}},[t._v("#")]),t._v(" ä¸­é—´ä»¶çš„ç‰¹ç‚¹")]),t._v(" "),a("ul",[a("li",[t._v("æ¯ä¸ªä¸­é—´ä»¶å‡½æ•°ï¼Œå…±äº«reqå¯¹è±¡ã€å…±äº«reså¯¹è±¡\n"),a("ul",[a("li",[t._v("jsä»£ç ä¸­ï¼Œæ‰€æœ‰çš„reqå¯¹è±¡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼›æ‰€æœ‰çš„resæ˜¯ä¸€ä¸ªå¯¹è±¡")])])]),t._v(" "),a("li",[t._v("ä¸è°ƒç”¨"),a("code",[t._v("next()")]),t._v("ï¼Œåˆ™ç¨‹åºæ‰§è¡Œåˆ°å½“å‰ä¸­é—´ä»¶å‡½æ•°åŽï¼Œä¸å†å‘åŽæ‰§è¡Œ\n"),a("ul",[a("li",[t._v("æ³¨æ„ä¸­é—´ä»¶çš„é¡ºåºï¼Œå› ä¸ºæœ‰å¯èƒ½å› ä¸ºé¡ºåºåŽŸå› ï¼Œä½ çš„ä¸­é—´ä»¶å‡½æ•°ä¸ä¼šæ‰§è¡Œ")]),t._v(" "),a("li",[t._v("ä¸ºäº†é˜²æ­¢ä»£ç é€»è¾‘æ··ä¹±ï¼Œè°ƒç”¨ next() å‡½æ•°åŽä¸è¦å†å†™é¢å¤–çš„ä»£ç ")])])]),t._v(" "),a("li",[t._v("å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œå¯èƒ½è¿žç»­è°ƒç”¨å¤šä¸ªä¸­é—´ä»¶è¿›è¡Œå¤„ç†")]),t._v(" "),a("li",[t._v("ä½¿ç”¨"),a("code",[t._v("app.use()")]),t._v("æ³¨å†Œçš„ä¸­é—´ä»¶ï¼ŒGETå’ŒPOSTè¯·æ±‚éƒ½å¯ä»¥è§¦å‘")]),t._v(" "),a("li",[t._v("é”™è¯¯å¤„ç†ä¸­é—´ä»¶ï¼Œå¿…é¡»ä¼ é€’ errã€reqã€resã€nextå››ä¸ªå‚æ•°ï¼Œè€Œä¸”è¦æ”¾åˆ°æ‰€æœ‰æŽ¥å£çš„åŽé¢\n"),a("ul",[a("li",[t._v("å¦‚æžœå‰é¢çš„ä¸­é—´ä»¶ï¼Œæ²¡æœ‰ç»™nextä¼ å‚ï¼Œå¹¶ä¸”ä»£ç ä¹Ÿæ²¡æœ‰é”™è¯¯ï¼Œè¯·æ±‚å°†ä¸ä¼šè¿›å…¥åˆ°é”™è¯¯å¤„ç†ä¸­é—´ä»¶")]),t._v(" "),a("li",[t._v("å¦‚æžœå‰é¢çš„ä¸­é—´ä»¶ï¼Œç»™nextä¼ é€’äº†å®žå‚ï¼ˆæ— è®ºæ˜¯ä»€ä¹ˆå®žå‚ï¼‰ï¼Œç¨‹åºä¼šç»•è¿‡åŽé¢çš„æ‰€æœ‰ä¸­é—´ä»¶ï¼Œç›´æŽ¥è¿›å…¥åˆ°æœ€åŽçš„é”™è¯¯å¤„ç†ä¸­é—´ä»¶ã€‚")])])])]),t._v(" "),a("h2",{attrs:{id:"ä¸­é—´ä»¶åˆ†ç±»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´ä»¶åˆ†ç±»"}},[t._v("#")]),t._v(" ä¸­é—´ä»¶åˆ†ç±»")]),t._v(" "),a("ul",[a("li",[t._v("åº”ç”¨çº§åˆ«çš„ä¸­é—´ä»¶")]),t._v(" "),a("li",[t._v("è·¯ç”±çº§åˆ«çš„ä¸­é—´ä»¶")]),t._v(" "),a("li",[t._v("é”™è¯¯å¤„ç†ä¸­é—´ä»¶")]),t._v(" "),a("li",[t._v("å†…ç½®ä¸­é—´ä»¶ï¼ˆexpressè‡ªå¸¦çš„ï¼Œæ¯”å¦‚ "),a("code",[t._v("express.urlencoded({ extended: true })")]),t._v("ï¼‰")]),t._v(" "),a("li",[t._v("ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼ˆæ¯”å¦‚multerã€express-jwtã€express-sessionã€jsonwebtoken....ï¼‰")])]),t._v(" "),a("blockquote",[a("p",[t._v("å®žé™…å¼€å‘ä¸­ï¼Œè‡ªå·±å†™ä¸­é—´ä»¶çš„æœºä¼šå¹¶ä¸å¤§ï¼Œä¸€èˆ¬éƒ½æœ‰å¯¹åº”çš„ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ã€‚")])])])}),[],!1,null,null,null);s.default=e.exports}}]);