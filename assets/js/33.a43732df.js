(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{386:function(t,s,n){"use strict";n.r(s);var a=n(45),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"其他模块集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#其他模块集成"}},[t._v("#")]),t._v(" 其他模块集成")]),t._v(" "),n("ul",[n("li",[t._v("回顾（权限管理：RBAC）\n"),n("ul",[n("li",[t._v("用户-角色-权限（目标：不同的用户拥有不同的权限）\n"),n("ul",[n("li",[t._v("把角色分配给用户")]),t._v(" "),n("li",[t._v("把权限分配给角色")]),t._v(" "),n("li",[t._v("注意：引入角色的目的是简化授权的操作")])])]),t._v(" "),n("li",[t._v("权限的验证\n"),n("ul",[n("li",[t._v("登录成功后，需要通过接口获取当前用户所拥有的权限信息（menus一级权限/points二级权限）")]),t._v(" "),n("li",[t._v("控制一级路由权限的验证\n"),n("ul",[n("li",[t._v("控制左侧动态路由的条件过滤（所有的动态路由和menus提供权限标识）")]),t._v(" "),n("li",[t._v("router.addRoutes(动态路由)")]),t._v(" "),n("li",[t._v("防止出现死循环（保证动态添加路由的操作仅仅执行一次）")])])]),t._v(" "),n("li",[t._v("控制二级权限功能点的验证\n"),n("ul",[n("li",[t._v("判断某个菜单是否拥有操作行为（基于points作为判断的条件；基于菜单的本身的标识）")]),t._v(" "),n("li",[t._v("封装一个判断方法，检测当前按钮的标识是否在points里面")])])])])])])])]),t._v(" "),n("hr"),t._v(" "),n("p",[n("strong",[t._v("目标")]),t._v("： 将其他业务模块代码集成到该项目中")]),t._v(" "),n("p",[t._v("到目前为止，我们已经完成了一个基本项目框架 + 组织架构 + 公司 + 员工  +  权限的 业务联调，")]),t._v(" "),n("p",[t._v("时间关系，我们不可能将所有的业务都去编写一遍，这里提供大家 其余模块的集成代码，")]),t._v(" "),n("p",[t._v("最终的目的是让大家得到一个完成的业务模块")]),t._v(" "),n("p",[t._v("要集成的模块业务，包括工资模块，社保模块，考勤模块，审批模块")]),t._v(" "),n("blockquote",[n("p",[t._v("在我们提供的资源集成模块中，我们提供了四个模块的**"),n("code",[t._v("路由")]),n("strong",[t._v("/")]),n("code",[t._v("页面")]),n("strong",[t._v("/")]),n("code",[t._v("api")]),t._v("*, 按照下面的路径拷贝即可")])]),t._v(" "),n("p",[t._v("路由 =>  "),n("strong",[n("code",[t._v("src/router/modules")])])]),t._v(" "),n("p",[t._v("页面 =>  "),n("strong",[n("code",[t._v("src/views")])])]),t._v(" "),n("p",[t._v("api  =>  "),n("strong",[n("code",[t._v("src/api")])])]),t._v(" "),n("p",[t._v("filters => "),n("code",[t._v("src/filters")])]),t._v(" "),n("p",[t._v("除此之外，我们需要将 "),n("strong",[n("code",[t._v("router/modules/user.js")])]),t._v(" 导入到静态路由中，")]),t._v(" "),n("p",[t._v("因为这个模块是所有用户都可以访问的")]),t._v(" "),n("div",{staticClass:"language-jsx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" user "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./modules/user'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" constantRoutes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上传excel页")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/import'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    component"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Layout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    hidden"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    children"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        path"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'import'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("component")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/views/import/index'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  user\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果前面的路由都没有匹配到, 那么就会被 * 匹配, 重定向到了 /404")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { path: '*', redirect: '/404', hidden: true }")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("p",[t._v("最终，我们将得到一个较为完整的系统业务。")])])}),[],!1,null,null,null);s.default=r.exports}}]);